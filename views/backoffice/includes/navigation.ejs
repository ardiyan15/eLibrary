<ul
  style="background-color: #1d5b79; background-size: cover"
  class="navbar-nav sidebar sidebar-dark accordion"
  id="accordionSidebar"
>
  <a
    class="sidebar-brand d-flex align-items-center justify-content-center"
    href="index.html"
  >
    <div class="sidebar-brand-icon rotate-n-15">
      <i class="fas fa-book"></i>
    </div>
    <div class="sidebar-brand-text mx-3">eLibrary</div>
  </a>
  <hr class="sidebar-divider my-0" />
  <li class="nav-item">
    <a class="nav-link" href="index.html">
      <i class="fas fa-fw fa-tachometer-alt"></i>
      <span>Dashboard</span></a
    >
  </li>
  <hr class="sidebar-divider" />
  <div class="sidebar-heading">Administration</div>
  <% menus.forEach(menu => { %>
  <li
    class="nav-item <%= menu.name.split(' ').join('_').toLowerCase() == parentMenu.toLowerCase() ? 'active' : '' %>"
  >
    <a
      class="nav-link collapsed active"
      href="#"
      data-toggle="collapse"
      data-target="#<%= menu.name.split(' ').join('_') %>"
      aria-expanded="true"
      aria-controls="<%= menu.name.split(' ').join('_') %>"
    >
      <i class="<%= menu.icon %>"></i>
      <span><%= menu.name %></span>
    </a>
    <div
      id="<%= menu.name.split(' ').join('_') %>"
      class="collapse <%= parentMenu.toLowerCase() == menu.name.split(' ').join('_').toLowerCase() ? 'show' : '' %>"
      aria-labelledby="headingTwo"
      data-parent="#accordionSidebar"
    >
      <div class="bg-white py-2 collapse-inner rounded">
        <h6 class="collapse-header"><%= menu.name %></h6>
        <% subMenus.forEach(subMenu => { %> <% if(menu.id == subMenu.menu_id) {
        %>
        <a
          class="collapse-item <%= subMenu.name.split(' ').join('_').toLowerCase() == subMenuName.toLowerCase() ? 'active' : '' %>"
          href="<%= subMenu.url %>"
          ><%= subMenu.name %></a
        >
        <% } %> <% }) %>
        <!-- <a
            class="collapse-item <%= isActive == 'sub_menu' ? 'active' : '' %>"
            href="/backoffice/submenus"
            >Sub Menu</a
          >
          <a class="collapse-item" href="/backoffice/users">Users</a>
          <a class="collapse-item" href="/backoffice/Books">Books</a>
          <a class="collapse-item" href="/backoffice/categories">Categories</a> -->
      </div>
    </div>
  </li>
  <% }) %>
  <!-- <li class="nav-item">
    <a
      class="nav-link collapsed active"
      href="#"
      data-toggle="collapse"
      data-target="#collapseTwo"
      aria-expanded="true"
      aria-controls="collapseTwo"
    >
      <i class="fas fa-fw fa-cog"></i>
      <span>Master Data</span>
    </a>
    <div
      id="collapseTwo"
      class="collapse <%= parentMenu == 'master' ? 'show' : '' %>"
      aria-labelledby="headingTwo"
      data-parent="#accordionSidebar"
    >
      <div class="bg-white py-2 collapse-inner rounded">
        <h6 class="collapse-header">Master Data</h6>
        <a class="collapse-item" href="/backoffice/menus">Menu</a>
        <a
          class="collapse-item <%= isActive == 'sub_menu' ? 'active' : '' %>"
          href="/backoffice/submenus"
          >Sub Menu</a
        >
        <a class="collapse-item" href="/backoffice/users">Users</a>
        <a class="collapse-item" href="/backoffice/Books">Books</a>
        <a class="collapse-item" href="/backoffice/categories">Categories</a>
      </div>
    </div>
  </li>
  
  <li class="nav-item">
    <a
      class="nav-link collapsed"
      href="#"
      data-toggle="collapse"
      data-target="#collapseUtilities"
      aria-expanded="true"
      aria-controls="collapseUtilities"
    >
      <i class="fas fa-fw fa-cog"></i>
      <span>Content Setting</span>
    </a>
    <div
      id="collapseUtilities"
      class="collapse"
      aria-labelledby="headingTwo"
      data-parent="#accordionSidebar"
    >
      <div class="bg-white py-2 collapse-inner rounded">
        <h6 class="collapse-header">Content Setting</h6>
        <a class="collapse-item" href="/backoffice/banners">Banner</a>
      </div>
    </div>
  </li>
  <li class="nav-item">
    <a
      class="nav-link collapsed"
      href="#"
      data-toggle="collapse"
      data-target="#transactionsd"
      aria-expanded="true"
      aria-controls="transactionsd"
    >
      <i class="fas fa-fw fa-cog"></i>
      <span>Transactions</span>
    </a>
    <div
      id="transactionsd"
      class="collapse"
      aria-labelledby="headingTwo"
      data-parent="#accordionSidebar"
    >
      <div class="bg-white py-2 collapse-inner rounded">
        <h6 class="collapse-header">Transactions</h6>
        <a class="collapse-item" href="/backoffice/transactions">Order</a>
        <a href="/backoffice/histories" class="collapse-item">History</a>
      </div>
    </div>
  </li> -->
  <hr class="sidebar-divider" />
  <li class="nav-item">
    <form action="/backoffice/logout" method="POST">
      <input type="hidden" name="_csrf" id="_csrf" value="<%= csrfToken %>" />
      <button
        class="btn btn-link"
        style="text-decoration: none; color: rgba(255, 255, 255, 0.8)"
      >
        Logout
      </button>
    </form>
  </li>
  <hr class="sidebar-divider d-none d-md-block" />
  <div class="text-center d-none d-md-inline">
    <button class="rounded-circle border-0" id="sidebarToggle"></button>
  </div>
</ul>
<%- include('./nav.ejs') %>
